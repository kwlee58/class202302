"0","class_roll <- readRDS(""./class_roll_230404.RDS"")
food <-
  read_excel(""../data/food_plan_230503.xlsx"",
             range = ""C1:Y203"")
str(food)
"
"1","tibble [202 × 23]"
"1",""
"1"," (S3: "
"1",""
"1","tbl_df/tbl/data.frame"
"1",""
"1",")"
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","학과                                                             "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""언론방송융합전공"" ""디지털미디어콘텐츠전공"" ""나노융합스쿨(디스플레이전공)"" ""빅데이터과"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","학번                                                             "
"1",""
"1",":"
"1"," num [1:202] "
"1",""
"1","20212564 20211053 20193308 20195268 20205250"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","이름                                                             "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""장지은"" ""원윤서"" ""김소희"" ""최민정"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[1. 규칙적인 시간에 세 끼 식사를 하겠다]                         "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 6-7일"" ""5. 6-7일"" ""1. 0-2일"" ""3. 3-5일"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[2. 식사량은 언제나 적당히 하겠다]                               "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 6-7일"" ""5. 6-7일"" ""5. 6-7일"" ""3. 3-5일"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[3. 1일 2끼 이상 고기, 생선, 달걀, 콩, 두부 중 하나라도 먹겠다]  "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 6-7일"" ""5. 6-7일"" ""5. 6-7일"" ""3. 3-5일"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[4. 녹황색 채소(당근, 시금치)를 먹겠다]                          "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 6-7일"" ""5. 6-7일"" ""5. 6-7일"" ""3. 3-5일"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[5. 식물성기름(참기름, 들기름, 콩기름 등)이 첨가된 음식을 먹겠다]"
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 6-7일"" ""5. 6-7일"" ""5. 6-7일"" ""3. 3-5일"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[6. 우유나 유제품을 먹겠다]                                      "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 6-7일"" ""3. 3-5일"" ""5. 6-7일"" ""5. 6-7일"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[7. 과일이나 과일주스를 먹겠다]                                  "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""3. 3-5일"" ""3. 3-5일"" ""1. 0-2일"" ""3. 3-5일"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[8. 즐거운 마음으로 여유있게 식사를 하겠다]                      "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 6-7일"" ""5. 6-7일"" ""3. 3-5일"" ""5. 6-7일"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[9. 매끼 골고루 식사를 하면 편식하지 않겠다]                     "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 6-7일"" ""5. 6-7일"" ""3. 3-5일"" ""3. 3-5일"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[10. 아침식사는 반드시 하겠다]                                   "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""1. 0-2일"" ""5. 6-7일"" ""1. 0-2일"" ""1. 0-2일"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[11. 매일 가공식품(라면, 과자 등)을 먹겠다]                      "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 아니오"" ""5. 아니오"" ""3. 가끔"" ""3. 가끔"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[12. 매일 한끼 이상 외식을 하겠다]                               "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""3. 가끔"" ""3. 가끔"" ""3. 가끔"" ""3. 가끔"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[13. 매일 동물성 식품이나 콜레스테롤이 많은 음식을 먹겠다]       "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 아니오"" ""5. 아니오"" ""5. 아니오"" ""3. 가끔"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[14. 매일 짠 음식(젓갈, 초콜릿, 사탕 등)을 먹겠다]               "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 아니오"" ""5. 아니오"" ""5. 아니오"" ""3. 가끔"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[15. 매일 단 음식(젓갈, 초콜릿, 사탕 등)을 먹겠다]               "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 아니오"" ""5. 아니오"" ""5. 아니오"" ""3. 가끔"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[16. 매일 맵고 자극적인 음식을 즐겨 먹겠다]                      "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 아니오"" ""5. 아니오"" ""3. 가끔"" ""3. 가끔"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[17. 패스트푸드(햄버거, 피자)를 즐겨 먹겠다]                     "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 아니오"" ""5. 아니오"" ""5. 아니오"" ""5. 아니오"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[18. 매일 카페인이 든 음료(커피, 차류)를 3회 이상 먹겠다]        "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 아니오"" ""5. 아니오"" ""5. 아니오"" ""5. 아니오"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[19. 매일 저녁식사 후 자기 전에 간식을 먹겠다]                   "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 아니오"" ""5. 아니오"" ""5. 아니오"" ""3. 가끔"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","[20. 규칙적으로 운동(주 3회, 20분 이상)을 하지 않겠다]           "
"1",""
"1",":"
"1"," chr [1:202] "
"1",""
"1","""5. 아니오"" ""5. 아니오"" ""1. 예"" ""3. 가끔"""
"1",""
"1"," ..."
"1",""
"1","
"
"0","names(food) <- c(""dept"", ""id"", ""name"", paste0(""Q"", 1:20))"
"0","class(food$id) <- ""character"""
"0","food %<>% data.frame"
"0","food$group <- class_roll$group[match(food$id, class_roll$id)]"
"0","food$dept %<>% "
"0","  factor"
"0","food$group %<>%"
"0","  factor(levels = c(""Red"", ""Black""))"
"0","food[paste0(""Q"", 1:20)] %<>%"
"0","  sapply(FUN = {. %>% strsplit(split = ""[.]"") %>% sapply(`[`, 1)}) %>%"
"0","  as.numeric"
"0","food %>%"
"0","  str"
"1","'data.frame':	"
"1",""
"1","202"
"1",""
"1"," obs. of  "
"1",""
"1","24"
"1",""
"1"," variable"
"1",""
"1","s"
"1",""
"1",":"
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","dept "
"1",""
"1",":"
"1"," Factor w/ 68 levels ""ai로봇융합전공"",..: "
"1",""
"1","47 19 15 29 31 30 3 28 51 50"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","id   "
"1",""
"1",":"
"1"," chr  "
"1",""
"1","""20212564"" ""20211053"" ""20193308"" ""20195268"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","name "
"1",""
"1",":"
"1"," chr  "
"1",""
"1","""장지은"" ""원윤서"" ""김소희"" ""최민정"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q1   "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 1 3 1 5 3 3 5 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q2   "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 5 3 3 5 3 3 5 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q3   "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 5 3 5 5 3 5 5 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q4   "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 5 3 3 5 3 3 5 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q5   "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 5 3 3 5 3 3 5 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q6   "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 3 5 5 5 5 3 3 5 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q7   "
"1",""
"1",":"
"1"," num  "
"1",""
"1","3 3 1 3 5 5 3 3 5 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q8   "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 3 5 3 5 5 3 5 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q9   "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 3 3 1 5 3 3 5 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q10  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","1 5 1 1 1 5 3 1 5 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q11  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 3 3 1 5 3 5 5 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q12  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","3 3 3 3 5 5 5 3 5 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q13  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 5 3 3 5 3 1 5 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q14  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 5 3 5 5 3 3 5 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q15  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 5 3 1 5 3 3 5 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q16  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 3 3 3 5 3 1 5 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q17  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 5 5 3 5 3 3 5 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q18  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 5 5 3 5 3 3 5 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q19  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 5 3 3 5 3 1 5 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Q20  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","5 5 1 3 3 5 5 3 5 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","group"
"1",""
"1",":"
"1"," Factor w/ 2 levels ""Red"",""Black"": "
"1",""
"1","2 1 1 2 2 2 1 2 1 1"
"1",""
"1"," ..."
"1",""
"1","
"
"0","food$score <- apply(food[paste(""Q"", 1:20, sep = """")], 1, sum)"
"0","food$grade <- ifelse(food$score <= 59, ""식생활을 고치세요"", "
"0","                     ifelse(food$score <= 79, ""식생활이 보통입니다"", "
"0","                            ifelse(food$score <= 100, ""식생활이 대체로 좋아요"", NA)))"
"0","food$grade <- factor(food$grade, "
"0","                     levels = c(""식생활을 고치세요"", ""식생활이 보통입니다"", ""식생활이 대체로 좋아요""), "
"0","                     ordered = TRUE)"
"0","#> 학번 잘못 써서 고생시키는 녀석들 찾아내는 코드"
"0","food[food$id %in% setdiff(food$id, class_roll$id), c(""id"", ""name"", ""dept"")]"
